# apparmor.d - Full set of apparmor profiles
# Copyright (C) 2025 Alexandre Pujol <alexandre@pujol.io>
# SPDX-License-Identifier: GPL-2.0-only
# LOGPROF-SUGGEST: no

  abi <abi/4.0>,

  include <abstractions/graphics-full>

  @{sys}/devices/@{pci}/boot_vga r,

  @{PROC}/devices r,
  @{PROC}/driver/nvidia/capabilities/mig/config r,

  /dev/ r,

  # Video Acceleration API
  @{att}/dev/dri/renderD128 rw,
  @{att}/dev/dri/renderD129 rw,

  /dev/nvidia-caps/nvidia-cap@{int} rw,

  include if exists <abstractions/flatpak/devices/dri.d>

# vim:syntax=apparmor
